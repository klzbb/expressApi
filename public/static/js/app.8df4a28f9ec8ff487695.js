webpackJsonp([1],{"3i+1":function(t,e){},"7jTb":function(t,e){},"89Jd":function(t,e){},E5Vl:function(t,e){},HhaF:function(t,e){},KAXB:function(t,e){},L655:function(t,e){},MeKN:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={name:"App",data:function(){return{activeIndex:"1",activeIndex2:"1"}},methods:{handleSelect:function(t,e){console.log(t,e)}}},s={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var r=a("VU/8")(o,s,!1,function(t){a("lCQd")},null,null).exports,i=a("NYxO"),l=a("mtWM"),c=a.n(l).a.create({baseURL:"http://localhost:3008",timeout:5e3,withCredentials:!0});function u(t){return c({url:"/api/user/login",method:"post",data:t})}function d(t){return c({url:"/api/user/getuserbook/"+t.username,method:"post",data:t})}var m=a("lbHh"),f=a.n(m);n.default.use(i.a);var p={saveAdminInfo:function(t,e){t.adminInfo=e,console.log(t.adminInfo)},saveLoginStatus:function(t,e){t.loginStatus=e,console.log(t.loginStatus)}},v={getAdminData:function(t,e){var a=t.commit;u(e).then(function(t){console.log(t.data),3==t.data.status?(a("saveAdminInfo",t.data.result),a("saveLoginStatus",t.data.code)):3==t.data.code?a("saveLoginStatus",t.data.code):4==t.data.code&&a("saveLoginStatus",t.data.code)})}},h=new i.a.Store({state:{adminInfo:null,loginStatus:null},actions:v,mutations:p}),g=a("zL8q"),b=a.n(g),_=(a("tvR6"),a("/ocq")),k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"root-main-content"},[e("div",{staticClass:"root-real-content"},[this._v("\n\t\tkjkjkjk\n\t")])])}]};var y={data:function(){return{username:"",fullscreenLoading:!1}},mounted:function(){this.username=f.a.get("username")},beforeRouteEnter:function(t,e,a){},computed:{},methods:{handleCommand:function(t){var e=this;"logout"==t?this.$confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){c({url:"/api/user/logout",method:"post"}).then(function(t){var a;1==t.data.status?(a="username",f.a.remove(a),e.$router.push("/login"),e.$message({type:"success",message:"退出成功"})):console.log("服务器异常")})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}):"message"==t?console.log("消息中心"):"single"==t&&console.log("个人资料")}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root-header-wrap"},[a("div",{staticClass:"root-header"},[a("div",{staticClass:"root-header-navs"},[a("router-link",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"root-header-navs-item",attrs:{to:"/book"}},[t._v("图书管理")]),t._v(" "),a("router-link",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"root-header-navs-item",attrs:{to:"/goods"}},[t._v("公司物品管理")]),t._v(" "),a("router-link",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"root-header-navs-item",attrs:{to:"/blog"}},[t._v("公司论坛")]),t._v(" "),a("router-link",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"root-header-navs-item",attrs:{to:"/oa"}},[t._v("员工OA系统")])],1),t._v(" "),a("div",{staticClass:"root-header-set"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link rhs-el-dropdown-link"},[t._v("\n\t\t\t\t\t"+t._s(t.username)+"\n\t\t\t\t\t"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"rhs-el-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"rhs-el-dropdown-item",attrs:{command:"single"}},[t._v("个人资料")]),t._v(" "),a("el-dropdown-item",{staticClass:"rhs-el-dropdown-item",attrs:{command:"message"}},[t._v("消息中心")]),t._v(" "),a("el-dropdown-item",{staticClass:"rhs-el-dropdown-item",attrs:{command:"logout"}},[t._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[]};var x={name:"layout",components:{Main:a("VU/8")({},k,!1,function(t){a("7jTb")},"data-v-f223e11e",null).exports,NavBar:a("VU/8")(y,w,!1,function(t){a("RFRn")},"data-v-0fdb8b3e",null).exports},mounted:function(){}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"layout-container"},[e("NavBar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var $=a("VU/8")(x,C,!1,function(t){a("dcBt")},"data-v-69007d4c",null).exports,D={render:function(){var t=this.$createElement;return(this._self._c||t)("aside",{staticClass:"root-side-menu"},[this._t("default")],2)},staticRenderFns:[]};var S=a("VU/8")({},D,!1,function(t){a("YXFv")},"data-v-101307a8",null).exports,z={data:function(){return{loading:!1}},components:{SideBar:S}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-container"},[a("SideBar",[a("h2",{staticClass:"nav-title"},[t._v("图书管理")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/booklist"}},[t._v("图书列表")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/booking"}},[t._v("预约中心")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/bookbuy"}},[t._v("预约订购")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/singlecenter"}},[t._v("个人中心")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/bookcenter"}},[t._v("图书中心")]),t._v(" "),a("router-link",{staticClass:"nav-item",attrs:{to:"/book/usercenter"}},[t._v("用户中心")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-content"},[a("router-view")],1)],1)},staticRenderFns:[]};var E=a("VU/8")(z,F,!1,function(t){a("hAOD")},"data-v-5a800966",null).exports,R=a("woOf"),B=a.n(R);function V(t){return c({url:"/api/book/find/?status="+t.status+"&name="+t.name+"&page="+t.page,method:"get"})}function O(t){return c({url:"/api/book/update/"+t._id,method:"post",data:t||{}})}function U(t){return c({url:"/api/book/add/",method:"post",data:t})}function L(t){return c({url:"/api/book/del/"+t._id,method:"post"})}var N={data:function(){return{tableData:[],currentPage4:1,total:0,loading:!1}},created:function(){this.initData({status:"3"})},methods:{initData:function(t){var e=this;this.loading=!0,V(t).then(function(t){e.tableData=t.data.books,e.total=t.data.count,e.loading=!1})},book:function(t,e){var a=this;O(B()({},e[t],{status:4})).then(function(n){1===n.data.code&&(a.$message({type:"success",message:"确定预约"}),e.splice(t,1))})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.initData({status:3,page:t})}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"书籍名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"borrower",label:"预约者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.book(e.$index,t.tableData)}}},[t._v("确定预约")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage4,"pager-count":8,"page-size":15,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var P=a("VU/8")(N,A,!1,function(t){a("3i+1")},"data-v-61b47ba8",null).exports,j={data:function(){return{tableData:[],currentPage4:1,total:0,searchdata:"",loading:!1,loading_table:!1}},created:function(){this.initData({status:9,page:1})},methods:{initData:function(t){var e=this;this.loading=!0,V(t).then(function(t){console.log(t.data),e.tableData=t.data.books,e.total=t.data.count,e.loading=!1})},handleFilter:function(){this.initData({name:this.searchdata,status:"7"})},editBook:function(t,e){this.$router.push({path:"/book/bookedit",query:e[t]})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.initData({status:9,page:t})},addBook:function(){this.$router.push({path:"/book/booklistform"})},filter:function(t){this.initData(t)},formatStatus:function(t,e,a,n){switch(a){case 1:return"订购中";case 2:return"已订购";case 3:return"预约中";case 4:return"被借阅"}},delBook:function(t,e){var a=this;this.$confirm("此操作将永久删除数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){L({_id:e[t]._id}).then(function(t){1==t.data.code?(a.initData({status:8}),a.$message({type:"success",message:"删除成功"})):console.log("服务器异常")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"booklist-wrap"},[a("div",{staticClass:"search-bar"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.addBook()}}},[t._v("添加书籍")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:4})}}},[t._v("被借阅")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:2})}}},[t._v("未借阅")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:3})}}},[t._v("预约中")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:9})}}},[t._v("全部书籍")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入书籍名"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.searchdata,callback:function(e){t.searchdata=e},expression:"searchdata"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"种类",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyAt",label:"购买于",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{formatter:t.formatStatus,prop:"status",label:"状态",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.editBook(e.$index,t.tableData)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.delBook(e.$index,t.tableData)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage4,"pager-count":8,"page-size":15,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var T=a("VU/8")(j,I,!1,function(t){a("ZPsc")},"data-v-048d4758",null).exports,Y={data:function(){return{tableData:[],loading:!1}},created:function(){this.initData({status:1})},methods:{initData:function(t){var e=this;this.loading=!0,V(t).then(function(t){e.tableData=t.data.books,e.total=t.data.count,e.loading=!1})},handleCurrentChange:function(t){this.initData({status:1,page:t})},addBook:function(t,e){var a=this;O(B()({},e[t],{status:2})).then(function(n){console.log(n.data),1===n.data.code&&(a.$message({type:"success",message:"订购成功"}),e.splice(t,1))})},delBook:function(t,e){var a=this;L({_id:e[t]._id}).then(function(n){1===n.data.code&&(a.$message({type:"success",message:"取消订购"}),e.splice(t,1))})}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"table-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"书籍名",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.addBook(e.$index,t.tableData)}}},[t._v("确定订购")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.delBook(e.$index,t.tableData)}}},[t._v("取消订购")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage4,"pager-count":8,"page-size":15,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var X=a("VU/8")(Y,K,!1,function(t){a("MeKN")},"data-v-37ae2a40",null).exports,H={data:function(){return{form:{}}},methods:{onSubmit:function(t){var e=this;this.form.name?U(this.form).then(function(a){1==a.data.code&&(e.$message({type:"success",message:"预订成功，等待图书管理员购买"}),e.$refs[t].resetFields())}):this.$message({type:"warning",message:"书籍名称不能为空"})}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/book/bookcenter"}},[t._v("图书中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("申请订购")])],1),t._v(" "),a("div",{staticClass:"el-form-container"},[a("el-form",{ref:"bookForm",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"书籍名称",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"author"}},[a("el-input",{model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.onSubmit("bookForm")}}},[t._v("立即提交")])],1)],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(H,J,!1,function(t){a("E5Vl")},"data-v-396f3a66",null).exports,q={data:function(){return{tableData:[],currentPage4:1,total:0,searchdata:"",loading:!1}},created:function(){this.initData({status:"2"})},methods:{initData:function(t){var e=this;this.loading=!0,V(t).then(function(t){e.tableData=t.data.books,e.total=t.data.count,e.loading=!1})},book:function(t,e){var a=this,n=f.a.get("username"),o=B()({},e[t],{status:3},{borrower:n}),s={book_id:e[t]._id,username:n};O(o).then(function(n){1===n.data.code&&(a.$message({type:"success",message:"成功预约，等待图书管理员确认"}),e.splice(t,1))}),function(t){c({url:"/api/user/addbookid/"+t.username,method:"post",data:t||{}})}(s)},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.initData({status:9,page:t})},addBook:function(){this.$router.push({path:"/book/bookadd"})},handleFilter:function(){this.initData({name:this.searchdata,status:8})},filter:function(t){this.initData(t)}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"booklist-wrap"},[a("div",{staticClass:"search-bar"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.addBook()}}},[t._v("申请订购")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:"2"})}}},[t._v("全部书籍")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入书籍名"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.searchdata,callback:function(e){t.searchdata=e},expression:"searchdata"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"种类",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyAt",label:"购买于",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.book(e.$index,t.tableData)}}},[t._v("预约书籍")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage4,"pager-count":8,"page-size":15,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var Q=a("VU/8")(q,W,!1,function(t){a("fK5n")},"data-v-4ae8d68c",null).exports,Z={data:function(){return{form:{}}},beforeRouteEnter:function(t,e,a){a(function(e){var a=e.formatStatus(t.query,!1);e.form=a})},methods:{onSubmit:function(t){var e=this;if(this.form.name)if(this.form.status){O(this.formatStatus(this.form,!0)).then(function(t){1==t.data.code&&(e.$router.push("/book/booklist"),e.$message({type:"success",message:"修改成功"}))})}else this.$message({type:"warning",message:"状态不能为空"});else this.$message({type:"warning",message:"书籍名称不能为空"})},formatStatus:function(t,e){if(e)switch(t.status){case"预定中":return t.status=1,t;case"已订购":return t.status=2,t;case"预约中":return t.status=3,t;case"已借阅":return t.status=4,t;default:return t}else switch(console.log("kkkkkkkkk"),t.status){case 1:return t.status="预定中",t;case 2:return t.status="已订购",t;case 3:return t.status="预约中",t;case 4:return t.status="已借阅",t}}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/book/booklist"}},[t._v("图书列表")]),t._v(" "),a("el-breadcrumb-item",[t._v("编辑")])],1),t._v(" "),a("div",{staticClass:"el-form-container"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"书籍名称",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"author"}},[a("el-input",{model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"种类",prop:"category"}},[a("el-input",{model:{value:t.form.category,callback:function(e){t.$set(t.form,"category",e)},expression:"form.category"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"书籍状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"预订中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已订购",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"预约中",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"已借阅",value:"4"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("立即提交")])],1)],1)],1)],1)},staticRenderFns:[]};var tt=a("VU/8")(Z,G,!1,function(t){a("tX37")},"data-v-f8a73ab4",null).exports,et={data:function(){return{tableData:[],currentPage4:1,total:0,loading:!1}},created:function(){var t=f.a.get("username");this.initData({status:"5",username:t})},methods:{initData:function(t){var e=this;this.loading=!0,d(t).then(function(t){e.tableData=t.data.result,e.total=t.data.count,e.loading=!1})},formatStatus:function(t,e,a,n){switch(a){case 1:return"订购中";case 2:return"已订购";case 3:return"预约中";case 4:return"已借阅"}},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.initData({status:5,page:t})},filter:function(t){var e=this,a=f.a.get("username");d(B()({},{username:a},t)).then(function(t){e.tableData=t.data.result})}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"booklist-wrap"},[a("div",{staticClass:"search-bar"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:5})}}},[t._v("全部书籍")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:4})}}},[t._v("已借阅")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:3})}}},[t._v("预约中")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"name",label:"名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"种类",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"buyAt",label:"购买于",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{formatter:t.formatStatus,prop:"status",label:"状态"}})],1)],1)},staticRenderFns:[]};var nt=a("VU/8")(et,at,!1,function(t){a("89Jd")},"data-v-56439236",null).exports,ot={data:function(){return{form:{}}},methods:{onSubmit:function(t){var e=this;this.form.name?this.form.status?U(this.form).then(function(a){1==a.data.code&&(e.$message({type:"success",message:"成功添加书籍"}),e.$refs[t].resetFields())}):this.$message({type:"warning",message:"状态不能为空"}):this.$message({type:"warning",message:"书籍名称不能为空"})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap-container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:"/book/booklist"}},[t._v("图书列表")]),t._v(" "),a("el-breadcrumb-item",[t._v("添加书籍")])],1),t._v(" "),a("div",{staticClass:"el-form-container"},[a("el-form",{ref:"bookForm",attrs:{model:t.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"书籍名称",prop:"name"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"作者",prop:"author"}},[a("el-input",{model:{value:t.form.author,callback:function(e){t.$set(t.form,"author",e)},expression:"form.author"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"书籍状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"书籍状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("el-option",{attrs:{label:"预约订购",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"确认订购",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"预约书籍",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"确认借阅",value:"4"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.onSubmit("bookForm")}}},[t._v("立即提交")])],1)],1)],1)],1)},staticRenderFns:[]};var rt=a("VU/8")(ot,st,!1,function(t){a("Nri1")},"data-v-b651a650",null).exports,it={data:function(){return{tableData:[],currentPage4:1,total:0,searchdata:"",loading:!1}},created:function(){this.initData({status:"1",page:1})},methods:{initData:function(t){var e,a=this;this.loading=!0,(e=t,c({url:"/api/user/find/?status="+e.status+"&username="+e.username,method:"get"})).then(function(t){a.tableData=t.data.result,a.total=t.data.count,a.loading=!1})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.initData({status:9,page:t})},addBook:function(){this.$router.push({path:"/book/bookadd"})},handleFilter:function(){this.initData({username:this.searchdata,status:"4"})},filter:function(t){this.initData(t)}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"booklist-wrap"},[a("div",{staticClass:"search-bar"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.addBook()}}},[t._v("添加管理员")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.filter({status:"1"})}}},[t._v("全部")]),t._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleFilter(e)}},model:{value:t.searchdata,callback:function(e){t.searchdata=e},expression:"searchdata"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{fixed:"",prop:"username",label:"名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createAt",label:"创建时间",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.book(e.$index,t.tableData)}}},[t._v("编辑")])]}}])})],1)],1)},staticRenderFns:[]};var ct=a("VU/8")(it,lt,!1,function(t){a("WsvR")},"data-v-1e1cd032",null).exports,ut={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t公司物品列表页面\n")])},staticRenderFns:[]};var dt=a("VU/8")({},ut,!1,function(t){a("VD2Y")},"data-v-dd35875c",null).exports,mt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\t公司物品统计分析页面\n")])},staticRenderFns:[]};var ft=a("VU/8")({},mt,!1,function(t){a("HhaF")},"data-v-52ac2215",null).exports,pt={components:{SideBar:S}},vt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"main-container"},[this._v("\n\t公司物品管理正在开发中\n\t")])},staticRenderFns:[]};var ht=a("VU/8")(pt,vt,!1,function(t){a("t5xY")},"data-v-091053df",null).exports,gt={components:{SideBar:S}},bt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"main-container"},[this._v("\n\t公司论坛正在开发中\n")])},staticRenderFns:[]};var _t=a("VU/8")(gt,bt,!1,function(t){a("L655")},"data-v-8d3e46a0",null).exports,kt={components:{SideBar:S}},yt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"main-container"},[this._v("\n\t员工OA系统正在开发中\n")])},staticRenderFns:[]};var wt=a("VU/8")(kt,yt,!1,function(t){a("b7LJ")},"data-v-e0a637ac",null).exports,xt={data:function(){return{form:{username:"konglingzhan",pwd:"123"}}},computed:{username:function(){return this.$store.state.adminInfo},loginStatus:function(){return this.$store.state.loginStatus}},methods:{login:function(){var t=this;this.form.username?this.form.pwd?u(this.form).then(function(e){3==e.data.code?t.$message({message:"用户名错误！",type:"warning"}):4==e.data.code?t.$message({message:"密码错误",type:"warning"}):5==e.data.code&&(f.a.set("username",e.data.result),t.$router.push("/book"),t.$message({type:"success",message:"登录成功"}))}):this.$message({type:"warning",message:"密码不能为空"}):this.$message({type:"warning",message:"用户名不能为空"})},register:function(){this.$router.push("/register")}},mounted:function(){}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("h3",{staticClass:"login-title"},[t._v("瑾珑内部系统")]),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"用户密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")])],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"danger"},on:{click:t.register}},[t._v("注册")])],1)],1)],1)},staticRenderFns:[]};var $t=a("VU/8")(xt,Ct,!1,function(t){a("KAXB")},"data-v-450ccc12",null).exports,Dt={data:function(){return{form:{}}},methods:{register:function(){var t,e=this;(t=this.form,c({url:"/api/user/add",method:"post",data:t})).then(function(t){console.log(t.data),1==t.data.code?(e.$router.push("/login"),e.$message({type:"success",message:"用户注册成功！"})):2==t.data.code?e.$message({type:"warning",message:"用户名不能为空"}):3==t.data.code?e.$message({type:"warning",message:"密码不能为空"}):4==t.data.code&&e.$message({type:"warning",message:"该用户已经存在！"})})},backlogin:function(){this.$router.push("/login")}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-wrap"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("h3",{staticClass:"login-title"},[t._v("注册帐户")]),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"用户密码"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"danger"},on:{click:t.register}},[t._v("提交注册")])],1),t._v(" "),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.backlogin}},[t._v("返回登陆")])],1)],1)],1)},staticRenderFns:[]};var zt=a("VU/8")(Dt,St,!1,function(t){a("shB1")},"data-v-6a0c3e40",null).exports;n.default.use(_.a);var Ft=new _.a({routes:[{path:"/",name:"Layout",component:$,redirect:"/login",children:[{path:"/book",component:E,redirect:"/book/booklist",children:[{path:"booking",component:P},{path:"booklist",component:T},{path:"bookbuy",component:X},{path:"bookadd",component:M},{path:"singlecenter",component:nt},{path:"bookcenter",component:Q},{path:"bookedit",component:tt},{path:"usercenter",component:ct},{path:"booklistform",component:rt}]},{path:"/goods",component:ht,redirect:"/goods/goodslist",children:[{path:"goodslist",component:dt},{path:"analyze",component:ft}]},{path:"/blog",component:_t},{path:"/oa",component:wt}]},{path:"/login",component:$t},{path:"/register",component:zt}]}),Et=["/login","/register"];Ft.beforeEach(function(t,e,a){var n;n="username",f.a.get(n)?a():(console.log("need permission"),-1!==Et.indexOf(t.path)?a():a("/login"))}),Ft.afterEach(function(){}),n.default.use(b.a),n.default.config.productionTip=!1,new n.default({el:"#app",store:h,router:Ft,components:{App:r},template:"<App/>"})},Nri1:function(t,e){},RFRn:function(t,e){},VD2Y:function(t,e){},WsvR:function(t,e){},YXFv:function(t,e){},ZPsc:function(t,e){},b7LJ:function(t,e){},dcBt:function(t,e){},fK5n:function(t,e){},hAOD:function(t,e){},lCQd:function(t,e){},shB1:function(t,e){},t5xY:function(t,e){},tX37:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8df4a28f9ec8ff487695.js.map